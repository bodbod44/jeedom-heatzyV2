<!--
  WIDGET DASHBOARD PILOTE
-->
<div class="eqLogic-widget eqLogic" style="width: 200px;border:#border#;border-radius:#border-radius#;background-color: #background-color#;color: #color#;#style#" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" >

    <!-- Etat programmation -->
	<div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="" style="float: left; display: #EtatProg_display#; margin-top: 1px;margin-right: 1px;" data-version="#version#">
    		<span class="prog#EtatProgId#" title="" >
    			<a class="btn btn-default refresh" style="background-color:#background-color# !important;border-color : transparent !important;">
    			<i class="programmation" aria-hidden="true"></i>
    			</a>
    		</span>
   		 <script>
        	jeedom.cmd.update['#EtatProgId#'] = function(_options){
  				if(_options.display_value == 1) {
					$('.prog#EtatProgId#').attr('title', 'Désactiver la programmation');
                    $('.prog#EtatProgId# i.programmation').empty().append('<i class="fa fa-toggle-on progoff" style="font-size : 1.1em;color: #00FF00;"></i>');
                    $('.prog#EtatProgId#').parent().attr('data-cmd_id', '#ProgOff_id#');
                }
  				else {
					$('.prog#EtatProgId#').attr('title', 'Activer la programmation');
                    $('.prog#EtatProgId# i.programmation').empty().append('<i class="fa fa-toggle-off progon" style="font-size : 1.1em;color: #FF0000;"></i>');
                    $('.prog#EtatProgId#').parent().attr('data-cmd_id', '#ProgOn_id#');
				}
        	}
        	jeedom.cmd.update['#EtatProgId#']({display_value:'#ProgEtat#'});

            $('.cmd[data-cmd_id=#ProgOn_id#] .progon').on('click', function () {
              jeedom.cmd.execute({id: '#ProgOn_id#'});
            });

            $('.cmd[data-cmd_id=#ProgOff_id#] .progoff').on('click', function () {
              jeedom.cmd.execute({id: '#ProgOff_id#'});

  			});
  		</script>
    </div>

    <!-- refresh -->
    <div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#refresh_id#" style="float: right; margin-top: 1px;margin-right: 1px;" data-version="#version#">
		<span title="Rafraichir" >
    		<a class="btn btn-default refresh" style="background-color:#background-color# !important;border-color : transparent !important;">
    			<i class="fa fa-refresh" aria-hidden="true"></i>
			</a>
		</span>
   		<script>
    		$('.cmd[data-cmd_id=#refresh_id#] .refresh').on('click', function() {
    			jeedom.cmd.execute({id: '#refresh_id#'});
  			});
		</script>
   </div>

   <center class="widget-name"><a href="#eqLink#" style="font-size : 1.1em;#hideEqLogicName#">#name_display# <span style="font-size: 0.85em;position: relative;top:-2px;">#object_name#</span></a></center>
   <center>
   <div>
		<div class="cmd cmd-widget #EtatConsigne_history# tooltips" data-type="numeric" data-subtype="binary" data-cmd_id="#EtatConsigne_id#" style="margin-left:5px;display:none;#EtatConsigne_display#;" title="#EtatConsigne_CollectDate#" data-version="#version#">
          	<span style="font-size: 3.5em;" class="iconCmd"></span>
          	<script>
			jeedom.cmd.update['#EtatConsigne_id#'] = function(_options){
          		    $('.cmd[data-cmd_id=#EtatConsigne_id#]').attr('title','Collectée le '+_options.collectDate);
            		if (_options.display_value == '0') {
              			$('.cmd[data-cmd_id=#EtatConsigne_id#] > span.iconCmd').empty().append('<i class="icon jeedom-pilote-conf"></i>'); /// Mode Confort
                    }else if (_options.display_value == '1') {
              			$('.cmd[data-cmd_id=#EtatConsigne_id#] > span.iconCmd').empty().append('<i class="icon jeedom-pilote-eco"></i>');   /// Mode Eco
 					}else if (_options.display_value == '2') {
              			$('.cmd[data-cmd_id=#EtatConsigne_id#] > span.iconCmd').empty().append('<i class="icon jeedom-pilote-hg"></i>'); /// Mode HorsGel
 					}else {
              			$('.cmd[data-cmd_id=#EtatConsigne_id#] span.iconCmd').empty().append('<i class="icon jeedom-pilote-off"></i>');  /// Mode Off
            		}
        		}
				jeedom.cmd.update['#EtatConsigne_id#']({display_value:'#EtatConsigne_cmd#',collectDate:'#EtatConsigne_CollectDate#'});
			</script>
  		</div>
   </div> 
   </center>
  <div>
  	 <center>
		<!-- Off -->
		<div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#Off_id#" data-version="#version#">
			<span title="Mode OFF" >
            	<a class="btn btn-default off" style="background-color:#background-color# !important;border-color : transparent !important;">
            		<i class="fa fa-power-off" aria-hidden="true"></i>
            	</a>
            </span>
			<script>
            	$('.cmd[data-cmd_id=#Off_id#] .off').on('click', function() {
 					jeedom.cmd.execute({id: '#Off_id#'});
  				});
           	</script>
		</div>

	  <!-- Confort -->
		<div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#Confort_id#" data-version="#version#">
           	<span title="Mode Confort" >
           		<a class="btn btn-default confort" style="background-color:#background-color# !important;border-color : transparent !important;">
           			<i class="fa fa-sun-o" aria-hidden="true"></i>
           		</a>
           	</span>
			<script>
            	$('.cmd[data-cmd_id=#Confort_id#] .confort').on('click', function() {
 					jeedom.cmd.execute({id: '#Confort_id#'});
  				});
          	</script>
		</div>

	  <!-- Eco -->
		<div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#Eco_id#" data-version="#version#">
           	<span title="Mode Eco" >
           		<a class="btn btn-default eco" style="background-color:#background-color# !important;border-color : transparent !important;">
           			<i class="fa fa-moon-o" aria-hidden="true"></i>
           		</a>
           	</span>
			<script>
            	$('.cmd[data-cmd_id=#Eco_id#] .eco').on('click', function() {
 					jeedom.cmd.execute({id: '#Eco_id#'});
  				});
          	</script>
		</div>

	  <!--  Hors Gel -->
		<div class="cmd cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#HorsGel_id#" data-version="#version#">
           	<span title="Mode Hors Gel" >
           		<a class="btn btn-default horsgel" style="background-color:#background-color# !important;border-color : transparent !important;">
           			<i class="fa fa-snowflake-o" aria-hidden="true"></i>
           		</a>
           	</span>
			<script>
            	$('.cmd[data-cmd_id=#HorsGel_id#] .horsgel').on('click', function() {
 					jeedom.cmd.execute({id: '#HorsGel_id#'});
  				});
          	</script>
		</div>

	  </center>

  <span class="statusCmd" style="position : absolute;left : 5px; bottom : 5px; width : 30px; z-index: 1030;"></span>
  </div>
</div>
